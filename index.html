<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>GetClicked Index</title>
	<link rel="stylesheet" href="index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

    <script>
        $(document).ready(function(){
            $.get("http://18.216.65.48/app/logoutuser", function(data, status){
            });
            $("#loginform").submit(function(event) {
                var formData = {
                    "username" : $('input[name=username]').val(),
                    "password" : $('input[name=password]').val()
                };
                Cookies.set('username', $('input[name=username]').val());
                //TODO fix urls
                $.ajax({
                    type : 'POST',
                    url : "http://18.216.65.48/app/loginuser/",
                    data : formData,
                    dataType: 'json'
                })

                    .done(function (data) {
                        //on failure will display error message
                        if(data.success===false)
                            alert("Error: "+data.comment);
                        else
                        //on success will direct to home.html
                            window.location.replace("http://18.216.65.48/home.html");
                    })
                event.preventDefault();
            });
        });
    </script>
</head>

<body>
<section>
    <div class="container">
        <div class="form_content">
            <h2>What is GetClicked??</h2>
            <p>GetClicked is a platform in which instructors can create quizzes and have students answer them.</p>
            <a href="about.html">About the Authors</a>
        </div>
        <div class="login_form">
            <h1>Sign In</h1>
            <form id="loginform">
                <input type="text" name="username" placeholder="Username" required>
                <input type="password" name="password" placeholder="Password" required>
                <!--
                <a href="#">Forgot Password?</a>
                -->
                <input type="submit" name="Login" value="Login">
                <!--
                <input type="button" name="Login" value="Login" onclick="msg()">
                -->
            </form>

            <form action="signup.html">
                <h10>Don't have an account?</h10>
                <input type="submit" value="Sign Up">
            </form>
        </div>

    </div>
</section>
</body>

</html>


